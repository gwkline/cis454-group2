{"ast":null,"code":"import _asyncToGenerator from\"/Users/gavinkline/git-dev/cis454-group2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/Users/gavinkline/git-dev/cis454-group2/node_modules/@babel/runtime/regenerator/index.js\";import{initializeApp}from\"firebase/app\";import{GoogleAuthProvider,getAuth,signInWithPopup,signInWithEmailAndPassword,createUserWithEmailAndPassword,sendPasswordResetEmail,signOut}from\"firebase/auth\";import{getFirestore,query,getDocs,collection,where,addDoc}from\"firebase/firestore\";var firebaseConfig={apiKey:\"AIzaSyC_Gh13Kj7XpYUJ77u-P6Rm_mluMSldj2s\",authDomain:\"cis-454-group-2.firebaseapp.com\",databaseURL:\"https://cis-454-group-2-default-rtdb.firebaseio.com\",projectId:\"cis-454-group-2\",storageBucket:\"cis-454-group-2.appspot.com\",messagingSenderId:\"316148964938\",appId:\"1:316148964938:web:d87993a8475d6aa9cd90b3\",measurementId:\"G-6LV9TBP0N2\"};var app=initializeApp(firebaseConfig);var auth=getAuth(app);var db=getFirestore(app);var googleProvider=new GoogleAuthProvider();var signInWithGoogle=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,user,q,docs;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return signInWithPopup(auth,googleProvider);case 3:res=_context.sent;user=res.user;q=query(collection(db,\"users\"),where(\"uid\",\"==\",user.uid));_context.next=8;return getDocs(q);case 8:docs=_context.sent;if(!(docs.docs.length===0)){_context.next=12;break;}_context.next=12;return addDoc(collection(db,\"users\"),{uid:user.uid,name:user.displayName,authProvider:\"google\",email:user.email});case 12:_context.next=18;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](0);console.error(_context.t0);alert(_context.t0.message);case 18:case\"end\":return _context.stop();}}},_callee,null,[[0,14]]);}));return function signInWithGoogle(){return _ref.apply(this,arguments);};}();var logInWithEmailAndPassword=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(email,password){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return signInWithEmailAndPassword(auth,email,password);case 3:_context2.next=9;break;case 5:_context2.prev=5;_context2.t0=_context2[\"catch\"](0);console.error(_context2.t0);alert(_context2.t0.message);case 9:case\"end\":return _context2.stop();}}},_callee2,null,[[0,5]]);}));return function logInWithEmailAndPassword(_x,_x2){return _ref2.apply(this,arguments);};}();var registerWithEmailAndPassword=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(name,email,password){var res,user;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return createUserWithEmailAndPassword(auth,email,password);case 3:res=_context3.sent;user=res.user;_context3.next=7;return addDoc(collection(db,\"users\"),{uid:user.uid,name:name,authProvider:\"local\",email:email});case 7:_context3.next=13;break;case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](0);console.error(_context3.t0);alert(_context3.t0.message);case 13:case\"end\":return _context3.stop();}}},_callee3,null,[[0,9]]);}));return function registerWithEmailAndPassword(_x3,_x4,_x5){return _ref3.apply(this,arguments);};}();var sendPasswordReset=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(email){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return sendPasswordResetEmail(auth,email);case 3:alert(\"Password reset link sent!\");_context4.next=10;break;case 6:_context4.prev=6;_context4.t0=_context4[\"catch\"](0);console.error(_context4.t0);alert(_context4.t0.message);case 10:case\"end\":return _context4.stop();}}},_callee4,null,[[0,6]]);}));return function sendPasswordReset(_x6){return _ref4.apply(this,arguments);};}();var logout=function logout(){signOut(auth);};export{auth,db,signInWithGoogle,logInWithEmailAndPassword,signInWithEmailAndPassword,registerWithEmailAndPassword,sendPasswordReset,sendPasswordResetEmail,logout};","map":{"version":3,"sources":["/Users/gavinkline/git-dev/cis454-group2/src/firebase.js"],"names":["initializeApp","GoogleAuthProvider","getAuth","signInWithPopup","signInWithEmailAndPassword","createUserWithEmailAndPassword","sendPasswordResetEmail","signOut","getFirestore","query","getDocs","collection","where","addDoc","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","app","auth","db","googleProvider","signInWithGoogle","res","user","q","uid","docs","length","name","displayName","authProvider","email","console","error","alert","message","logInWithEmailAndPassword","password","registerWithEmailAndPassword","sendPasswordReset","logout"],"mappings":"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","sourcesContent":["import { initializeApp } from \"firebase/app\";\n\nimport {\n    GoogleAuthProvider,\n    getAuth,\n    signInWithPopup,\n    signInWithEmailAndPassword,\n    createUserWithEmailAndPassword,\n    sendPasswordResetEmail,\n    signOut,\n} from \"firebase/auth\";\n\nimport {\n    getFirestore,\n    query,\n    getDocs,\n    collection,\n    where,\n    addDoc,\n} from \"firebase/firestore\";\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyC_Gh13Kj7XpYUJ77u-P6Rm_mluMSldj2s\",\n    authDomain: \"cis-454-group-2.firebaseapp.com\",\n    databaseURL: \"https://cis-454-group-2-default-rtdb.firebaseio.com\",\n    projectId: \"cis-454-group-2\",\n    storageBucket: \"cis-454-group-2.appspot.com\",\n    messagingSenderId: \"316148964938\",\n    appId: \"1:316148964938:web:d87993a8475d6aa9cd90b3\",\n    measurementId: \"G-6LV9TBP0N2\"\n};\n\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\nconst db = getFirestore(app);\nconst googleProvider = new GoogleAuthProvider();\nconst signInWithGoogle = async () => {\ntry {\n    const res = await signInWithPopup(auth, googleProvider);\n    const user = res.user;\n    const q = query(collection(db, \"users\"), where(\"uid\", \"==\", user.uid));\n    const docs = await getDocs(q);\n    if (docs.docs.length === 0) {\n    await addDoc(collection(db, \"users\"), {\n        uid: user.uid,\n        name: user.displayName,\n        authProvider: \"google\",\n        email: user.email,\n    });\n    }\n} catch (err) {\n    console.error(err);\n    alert(err.message);\n}\n};\n\nconst logInWithEmailAndPassword = async (email, password) => {\ntry {\n    await signInWithEmailAndPassword(auth, email, password);\n} catch (err) {\n    console.error(err);\n    alert(err.message);\n}\n};\nconst registerWithEmailAndPassword = async (name, email, password) => {\ntry {\n    const res = await createUserWithEmailAndPassword(auth, email, password);\n    const user = res.user;\n    await addDoc(collection(db, \"users\"), {\n    uid: user.uid,\n    name,\n    authProvider: \"local\",\n    email,\n    });\n} catch (err) {\n    console.error(err);\n    alert(err.message);\n}\n};\nconst sendPasswordReset = async (email) => {\ntry {\n    await sendPasswordResetEmail(auth, email);\n    alert(\"Password reset link sent!\");\n} catch (err) {\n    console.error(err);\n    alert(err.message);\n}\n};\nconst logout = () => {\nsignOut(auth);\n};\nexport {\nauth,\ndb,\nsignInWithGoogle,\nlogInWithEmailAndPassword,\nsignInWithEmailAndPassword,\nregisterWithEmailAndPassword,\nsendPasswordReset,\nsendPasswordResetEmail,\nlogout,\n  };"]},"metadata":{},"sourceType":"module"}